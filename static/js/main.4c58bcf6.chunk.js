(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{120:function(e,t,n){},126:function(e,t,n){e.exports={posts__list:"Posts_posts__list__y3Hmk"}},181:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(61),a=n.n(c),o=n(24),i=n(25),u=n(27),l=n(26),d=n(10),j=n(11),p=n(9),b=n(5),f=n(0),h="ADD_POST",g="SET_PROFILE",O="GET_STATUS",m="SET_STATUS",x="ADD_MESSAGE",v="CHANGE_FOLLOWING",w="SET_USERS",_="SET_USERS_TOTAL_COUNT",k="SET_ACTIVE_PAGE",y="TOGGLE_LOADER",P="TOGGLE_FOLLOWING",S="SET_USER_INFO",C="SET_INITIALIZED",N=n(12),T=n.n(N),A=n(19),U=n(125).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3c41ce0c-17c5-4c99-8246-06dad4ea5f68"}}),M=function(e,t){return U.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},E=function(e){return U.post("follow/".concat(e))},F=function(e){return U.delete("follow/".concat(e))},I=function(e){return U.get("profile/".concat(e))},L=function(e){return U.get("profile/status/".concat(e))},R=function(e){return U.put("profile/status",{status:e})},D=function(){return U.get("auth/me")},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return U.post("auth/login",{email:e,password:t,rememberMe:n})},H=function(){return U.delete("auth/login")},z=n(37),B={userId:null,email:null,password:null,isAuth:!1},W=function(e,t,n,s){return{type:S,payload:{userId:e,email:t,password:n,isAuth:s}}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}},X={initialized:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},J=n(13),K=(n(181),function(e){return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("img",{className:"header__logo",src:"https://cdn.worldvectorlogo.com/logos/tiktok-logo-2--1.svg"}),Object(f.jsx)("div",{className:"login",children:e.isAuth?Object(f.jsxs)("div",{children:[e.email," - ",Object(f.jsx)("button",{onClick:e.logout,children:"Log out"})," "]}):Object(f.jsx)(J.b,{to:"/login",children:" Login "})})]})}),Y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsx)(K,Object(b.a)({},this.props))}}]),n}(s.Component),Z=Object(j.b)((function(e){return{isAuth:e.authReducer.isAuth,email:e.authReducer.email}}),{logout:function(){return function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:0===e.sent.data.resultCode&&t(W(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Y),q=(n(183),function(){return Object(f.jsxs)("nav",{className:"navbar",children:[Object(f.jsx)("div",{children:Object(f.jsx)(J.b,{to:"/profile",children:"Profile"})}),Object(f.jsx)("div",{children:Object(f.jsx)(J.b,{to:"/messages",children:"Messages"})}),Object(f.jsx)("div",{children:Object(f.jsx)(J.b,{to:"/news",children:"News"})}),Object(f.jsx)("div",{children:Object(f.jsx)(J.b,{to:"/music",children:"Music"})}),Object(f.jsx)("div",{children:Object(f.jsx)(J.b,{to:"/settings",children:"Settings"})}),Object(f.jsx)("div",{style:{paddingTop:"40px"},children:Object(f.jsx)(J.b,{to:"/users",children:"All users"})})]})}),$=n(121),ee=n(122),te=function(e){return e?void 0:"The fild is required!"},ne=function(e){return function(t){if(t.length>e)return"The max length are ".concat(e," symbols!")}},se=n(42),re=(n(184),function(e){e.input;var t=e.meta,n=e.children,s=(Object(se.a)(e,["input","meta","children"]),t.touched&&t.error);return Object(f.jsxs)("div",{className:"form-element"+(s?" error":""),children:[Object(f.jsx)("div",{children:n}),s&&Object(f.jsx)("span",{className:"error-message",children:t.error})]})}),ce=function(e){var t=e.input,n=(e.meta,Object(se.a)(e,["input","meta"]));return Object(f.jsxs)(re,Object(b.a)(Object(b.a)({},e),{},{children:[" ",Object(f.jsx)("textarea",Object(b.a)(Object(b.a)({},t),n))]}))},ae=function(e){var t=e.input,n=(e.meta,Object(se.a)(e,["input","meta"]));return Object(f.jsxs)(re,Object(b.a)(Object(b.a)({},e),{},{children:[" ",Object(f.jsx)("input",Object(b.a)(Object(b.a)({},t),n))]}))},oe=(n(185),function(e){var t=e.title,n=e.description,s=e.image,r=e.likes;return Object(f.jsxs)("div",{className:"post__item",children:[Object(f.jsx)("h3",{className:"post__title",children:t}),Object(f.jsx)("img",{className:"post__picture",src:s}),Object(f.jsx)("div",{className:"post__description",children:n}),Object(f.jsxs)("span",{className:"lices-count",children:["Likes: ",r]})]})}),ie=n(126),ue=n.n(ie),le=ne(5),de=Object(ee.a)({form:"newPostForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)($.a,{component:ce,name:"newPostText",placeholder:"Write new post text",validate:[te,le]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send post"})})]})})),je=Object(s.memo)((function(e){return Object(f.jsxs)("div",{className:ue.a.posts__list,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)(de,{onSubmit:function(t){alert("post added"),e.addNewPost(t.newPostText)}}),e.posts.map((function(e){return Object(f.jsx)(oe,{title:e.title,description:e.description,image:e.image,likes:e.likeCount},e.id)}))]})})),pe=n(35),be={posts:[{id:1,title:"My first post",description:"Hello. This is my first post! Welcome to my page!",image:"https://www.abc.net.au/cm/rimage/12465498-16x9-xlarge.jpg?v=2",likeCount:12},{id:2,title:"My second post",description:"Hello. This is my second post! Welcome to my page!",image:"https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fdam%2Fimageserve%2F765877054%2F960x0.jpg%3Ffit%3Dscale",likeCount:3},{id:3,title:"How to cook the cakes",description:"Hello. Today i`ll tell you about cooking cakes!",image:"https://handletheheat.com/wp-content/uploads/2015/03/Best-Birthday-Cake-with-milk-chocolate-buttercream-SQUARE.jpg",likeCount:21}],profile:null,status:""},fe=function(e){return{type:m,status:e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(pe.a)(e.posts),[{id:5,title:"Your added post",description:t.post,image:"https://handletheheat.com/wp-content/uploads/2015/03/Best-Birthday-Cake-with-milk-chocolate-buttercream-SQUARE.jpg"}])});case g:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case O:case m:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},ge=Object(j.b)((function(e){return{posts:e.profilePageReducer.posts}}),(function(e){return{addNewPost:function(t){e({type:h,post:t})}}}))(je),Oe=n(52),me=function(e){var t=Object(s.useState)(!1),n=Object(Oe.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(e.status),o=Object(Oe.a)(a,2),i=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(f.jsx)("div",{children:r?Object(f.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),e.setUserStatus(i)},onChange:function(e){u(e.currentTarget.value)},value:i}):Object(f.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"-----"})})},xe=(n(284),n.p+"static/media/catLoader.31f79637.gif"),ve=function(e){return Object(f.jsx)("img",{src:xe,className:"loading"})},we=n(89),_e=n.n(we),ke=function(){return Object(f.jsx)("div",{className:"profile__wallpaper",style:{backgroundImage:"url(".concat("https://p.bigstockphoto.com/GeFvQkBbSLaMdpKXF1Zv_bigstock-Aerial-View-Of-Blue-Lakes-And--227291596.jpg",")")}})},ye=function(e){return e.profile?Object(f.jsxs)("div",{className:_e.a.profile_info,children:[Object(f.jsx)(ke,{}),Object(f.jsxs)("div",{className:_e.a.main_info,children:[Object(f.jsx)("img",{src:e.profile.photos.large}),"ava + description"]}),Object(f.jsx)(me,{status:e.status,setUserStatus:e.setUserStatus})]}):Object(f.jsx)(ve,{})},Pe=(n(285),function(e){return Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)(ye,{profile:e.profile,status:e.status,setUserStatus:e.setUserStatus}),Object(f.jsx)(ge,{store:e.store})]})}),Se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(this.props.isAuth?e=this.props.myId:this.props.history.push("/login")),this.props.setUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(f.jsx)(Pe,Object(b.a)(Object(b.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,setUserStatus:this.props.setUserStatus}))}}]),n}(s.Component),Ce=Object(p.d)(Object(j.b)((function(e){return{profile:e.profilePageReducer.profile,status:e.profilePageReducer.status,isAuth:e.authReducer.isAuth,myId:e.authReducer.userId}}),{setUserProfile:function(e){return function(){var t=Object(A.a)(T.a.mark((function t(n){var s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:s=t.sent,n((r=s.data,{type:g,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(A.a)(T.a.mark((function t(n){var s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:s=t.sent,n(fe(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(A.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:0===t.sent.data.resultCode&&n(fe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(Se),Ne=n(90),Te=n.n(Ne),Ae=function(e){return Object(f.jsxs)("div",{className:Te.a.dialogs_item,children:[Object(f.jsx)("img",{className:Te.a.dialog__avatar,src:e.avatar,alt:""}),Object(f.jsx)(J.b,{to:"/messages/"+e.id,children:e.name})]})},Ue=(n(286),function(e){return Object(f.jsx)("div",{className:"message_item".concat(e.ownMessage?" active":""),children:e.content})}),Me=n(66),Ee=n.n(Me),Fe=ne(10),Ie=Object(ee.a)({form:"newMessageForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)($.a,{component:ce,name:"newMessageValue",placeholder:"Write new message",validate:[te,Fe]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send message"})})]})})),Le=function(e){return Object(f.jsxs)("div",{className:Ee.a.messages,children:[Object(f.jsx)("div",{className:Ee.a.dialogs,children:e.dialogs.map((function(e){return Object(f.jsx)(Ae,{id:e.id,name:e.userName,avatar:e.avatar},e.id)}))}),Object(f.jsxs)("div",{className:Ee.a.dialog,children:[e.messages.map((function(e){return Object(f.jsx)(Ue,{content:e.content,ownMessage:e.ownMessage},e.id)})),Object(f.jsx)(Ie,{onSubmit:function(t){e.sendNewMessage(t.newMessageValue)}})]})]})},Re={dialogs:[{id:1,userName:"Oksi",avatar:"https://static.wikia.nocookie.net/fc621525-9649-4ac8-a54c-089184c1741d"},{id:2,userName:"Serzh",avatar:"https://64.media.tumblr.com/61f51fc12ed51eac0d5fc34e4cbf8767/c20c1db5a17f4dac-ee/s500x750/aa8ef7430e18efc5cdaf551c307ab6a9c790128a.png"},{id:3,userName:"MisterX",avatar:"https://pm1.narvii.com/7640/de5f7f64281720abcb71aff74f9014e0529cdb7fr1-600-600v2_00.jpg"}],messages:[{id:1,content:"Hello",ownMessage:!1},{id:3,content:"How are you?",ownMessage:!1},{id:2,content:"Hiiiiiii!",ownMessage:!0},{id:4,content:"I am fine",ownMessage:!0},{id:5,content:"What are you doing?",ownMessage:!1}]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(pe.a)(e.messages),[{id:6,content:t.message,ownMessage:!0}])});default:return e}},Ge=Object(p.d)(Object(j.b)((function(e){return{dialogs:e.dialogsPageReducer.dialogs,messages:e.dialogsPageReducer.messages}}),(function(e){return{sendNewMessage:function(t){e({type:x,message:t})}}})))(Le),He=(n(287),function(){return Object(f.jsx)("div",{className:"news",children:"news"})}),ze=(n(288),function(){return Object(f.jsx)("div",{className:"music",children:"Music"})}),Be=(n(289),function(){return Object(f.jsx)("div",{className:"settings",children:"Settings"})}),We=(n(120),n(290),function(e){for(var t=e.totalItemsCount,n=e.usersCount,r=e.userPage,c=e.onClickSetActivePage,a=e.portionSize,o=void 0===a?30:a,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var d=Math.ceil(i/o),j=Object(s.useState)(1),p=Object(Oe.a)(j,2),b=p[0],h=p[1],g=(b-1)*o+1,O=b*o;return Object(f.jsxs)("div",{className:"pages",children:[b>1&&Object(f.jsx)("button",{onClick:function(){h(b-1)},children:"Prev"}),u.filter((function(e){return e>=g&&e<=O})).map((function(e){return Object(f.jsx)("span",{className:r===e?"page-number selected-page":"page-number",onClick:function(){c(e)},children:e},e)})),d>b&&Object(f.jsx)("button",{onClick:function(){h(b+1)},children:"Next"})]})}),Ve=n.p+"static/media/catAvatar.12fd2b01.png",Xe=function(e){var t=e.user,n=e.followingProgress,s=e.changeFollowThunk;return Object(f.jsxs)("div",{className:"user",children:[Object(f.jsxs)("div",{className:"main-info",children:[Object(f.jsx)(J.b,{to:"/profile/".concat(t.id),children:Object(f.jsx)("img",{src:null==t.photos.small?Ve:t.photos.small})}),Object(f.jsx)("button",{disabled:n.some((function(e){return e==t.id})),onClick:function(){s(t)},children:t.followed?"Unfollow":"Follow"})]}),Object(f.jsxs)("div",{className:"description",children:[Object(f.jsx)("h3",{className:"user-name",children:t.name}),Object(f.jsx)("p",{className:"user-status",children:t.status}),Object(f.jsxs)("p",{className:"user-country",children:[Object(f.jsx)("b",{children:"Country:"})," ","user.location.country"]}),Object(f.jsxs)("p",{className:"user-country",children:[Object(f.jsx)("b",{children:"City:"})," ","user.location.city"]})]})]},t.id)},Qe=function(e){var t=e.isLoading,n=e.users,s=e.changeFollowThunk,r=e.followingProgress,c=Object(se.a)(e,["isLoading","users","changeFollowThunk","followingProgress"]);return Object(f.jsxs)("div",{className:"users-page",children:[Object(f.jsx)("h2",{children:"Users"}),t?Object(f.jsx)(ve,{}):null,Object(f.jsx)(We,{totalItemsCount:c.totalUsersCount,usersCount:c.usersCount,userPage:c.userPage,onClickSetActivePage:c.onClickSetActivePage}),n.map((function(e){return Object(f.jsx)(Xe,{user:e,followingProgress:r,changeFollowThunk:s})}))]})},Je={users:[],usersCount:50,userPage:1,totalUsersCount:0,isLoading:!1,followingProgress:[]},Ke=function(e){return{type:v,userId:e}},Ye=function(e){return{type:w,users:e}},Ze=function(e){return{type:_,totalUsersCount:e}},qe=function(e){return{type:k,page:e}},$e=function(e){return{type:y,isLoading:e}},et=function(e,t){return{type:P,isFillowing:e,userId:t}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId&&(e.followed=!e.followed),e}))});case w:return Object(b.a)(Object(b.a)({},e),{},{users:Object(pe.a)(t.users)});case _:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.totalUsersCount});case k:return Object(b.a)(Object(b.a)({},e),{},{userPage:t.page});case y:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.isLoading});case P:return Object(b.a)(Object(b.a)({},e),{},{followingProgress:t.isFillowing?[].concat(Object(pe.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!=t.userId}))});default:return e}},nt=function(e){return e.usersPageReducer.users},st=function(e){return e.usersPageReducer.usersCount},rt=function(e){return e.usersPageReducer.totalUsersCount},ct=function(e){return e.usersPageReducer.userPage},at=function(e){return e.usersPageReducer.isLoading},ot=function(e){return e.usersPageReducer.followingProgress},it=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClickSetActivePage=function(t){e.props.setActivePageThunk(t,e.props.usersCount)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk()}},{key:"render",value:function(){return Object(f.jsx)(Qe,{users:this.props.users,userPage:this.props.userPage,changeFollow:this.props.changeFollow,totalUsersCount:this.props.totalUsersCount,usersCount:this.props.usersCount,isLoading:this.props.isLoading,followingProgress:this.props.followingProgress,toggleFollowing:this.props.toggleFollowing,onClickSetActivePage:this.onClickSetActivePage,changeFollowThunk:this.props.changeFollowThunk})}}]),n}(s.Component),ut=Object(j.b)((function(e){return{users:nt(e),usersCount:st(e),totalUsersCount:rt(e),userPage:ct(e),isLoading:at(e),followingProgress:ot(e)}}),{changeFollow:Ke,setUsers:Ye,setUsersTotalCount:Ze,setActivePage:qe,toggleLoader:$e,toggleFollowing:et,getUsersThunk:function(e,t){return function(){var n=Object(A.a)(T.a.mark((function n(s){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s($e(!0)),n.next=3,M(e,t);case 3:r=n.sent,s(Ye(r.items)),s($e(!1)),s(Ze(r.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setActivePageThunk:function(e,t){return function(){var n=Object(A.a)(T.a.mark((function n(s){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(qe(e)),s($e(!0)),n.next=4,M(e,t);case 4:r=n.sent,s(Ye(r.items)),s(Ze(r.totalCount)),s($e(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},changeFollowThunk:function(e){return function(){var t=Object(A.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(et(!0,e.id)),e.followed){t.next=9;break}return t.next=4,E(e.id);case 4:0===t.sent.data.resultCode&&n(Ke(e.id)),n(et(!1,e.id)),t.next=15;break;case 9:if(!e.followed){t.next=15;break}return t.next=12,F(e.id);case 12:0===t.sent.data.resultCode&&n(Ke(e.id)),n(et(!1,e.id));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(it),lt=(n(291),Object(ee.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)($.a,{placeholder:"Email",component:ae,name:"email",validate:[te]})}),Object(f.jsx)("div",{children:Object(f.jsx)($.a,{placeholder:"Password",component:ae,type:"password",name:"password",validate:[te]})}),Object(f.jsx)("div",{children:Object(f.jsx)($.a,{component:"input",type:"checkbox",name:"rememberMe"})}),n&&Object(f.jsx)("div",{className:"error-border",children:n}),Object(f.jsx)("button",{children:"Login"})]})}))),dt=Object(j.b)((function(e){return{isAuth:e.authReducer.isAuth}}),{login:function(e,t,n){return function(){var s=Object(A.a)(T.a.mark((function s(r){var c,a;return T.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,G(e,t,n);case 2:0===(c=s.sent).data.resultCode?r(W(c.data.data.userId,e,t,!0)):(a=c.data.messages.length>0?c.data.messages[0]:"Some error",r(Object(z.a)("login",{_error:a})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.login;return e.isAuth?Object(f.jsx)(d.a,{to:"/profile"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsx)(lt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})]})})),jt=(n(292),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){var e=this;return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(Z,{store:this.props.store}),Object(f.jsx)(q,{}),Object(f.jsxs)("div",{className:"app-content",children:[Object(f.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(Ce,{store:e.props.store})}}),Object(f.jsx)(d.b,{path:"/messages",render:function(){return Object(f.jsx)(Ge,{store:e.props.store})}}),Object(f.jsx)(d.b,{path:"/news",component:He}),Object(f.jsx)(d.b,{path:"/music",component:ze}),Object(f.jsx)(d.b,{path:"/settings",component:Be}),Object(f.jsx)(d.b,{path:"/login",render:function(){return Object(f.jsx)(dt,{store:e.props.store})}}),Object(f.jsx)(d.b,{path:"/users",render:function(){return Object(f.jsx)(ut,{store:e.props.store})}})]})]}):Object(f.jsx)(ve,{})}}]),n}(s.Component)),pt=Object(p.d)(d.f,Object(j.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeAppThunk:function(){return function(e){var t=e(function(){var e=Object(A.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:0===(n=e.sent).data.resultCode&&t(W(n.data.data.id,n.data.data.email,n.data.data.password,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());console.log("promise",t),Promise.all([t]).then((function(){e({type:C})}))}}}))(jt),bt=n(128),ft=n(123),ht=Object(p.c)({dialogsPageReducer:De,profilePageReducer:he,usersPageReducer:tt,authReducer:V,form:ft.a,appReducer:Q}),gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,Ot=Object(p.e)(ht,gt(Object(p.a)(bt.a)));n(293);a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(j.a,{store:Ot,children:Object(f.jsx)(J.a,{children:Object(f.jsx)(pt,{})})})}),document.getElementById("root"))},66:function(e,t,n){e.exports={messages:"Messages_messages__3pXxs"}},89:function(e,t,n){e.exports={profile_info:"ProfileInfo_profile_info__3ECT4",main_info:"ProfileInfo_main_info__2hAnD"}},90:function(e,t,n){e.exports={dialogs_item:"DialogItem_dialogs_item__26HBb",dialog__avatar:"DialogItem_dialog__avatar__FdDg_"}}},[[294,1,2]]]);
//# sourceMappingURL=main.4c58bcf6.chunk.js.map