(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{114:function(e,t,s){},147:function(e,t,s){},149:function(e,t,s){},150:function(e,t,s){},151:function(e,t,s){},152:function(e,t,s){},153:function(e,t,s){},252:function(e,t,s){},253:function(e,t,s){},254:function(e,t,s){var n={"./catAvatar.png":255,"./dogAvatar.png":256,"./pandaAvatar.png":257,"./penguinAvatar.png":258,"./pigAvatar.png":259,"./rabbitAvatar.png":260};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=254},255:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/catAvatar.12fd2b01.png"},256:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/dogAvatar.f1768f65.png"},257:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/pandaAvatar.78215092.png"},258:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/penguinAvatar.d193e8c3.png"},259:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/pigAvatar.2f31e6e5.png"},260:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/rabbitAvatar.dad2dce8.png"},261:function(e,t,s){},262:function(e,t,s){},263:function(e,t,s){},264:function(e,t,s){},265:function(e,t,s){},266:function(e,t,s){"use strict";s.r(t);var n,a=s(1),r=s.n(a),c=s(57),i=s.n(c),o=s(23),u=s(24),l=s(26),d=s(25),j=s(10),h=s(7),p=s(6),b=s(3),f=s(0),O="SET_USERS_DATA",m="SET_AUTH_DATA",g="SET_PROFILE_DATA",x="SET_DIALOGS_DATA",v="SET_AUTH_PHOTO",_="CHANGE_AUTH_DEFAULT_PHOTO",w="SET_PROFILE",N="GET_STATUS",y="SET_STATUS",k="ADD_MESSAGE",P="CHANGE_FOLLOWING",A="SET_USERS",T="SET_USERS_TOTAL_COUNT",S="SET_ACTIVE_PAGE",C="TOGGLE_LOADER",U="TOGGLE_FOLLOWING",I="ADD_USER",R="CHANGE_USERS",D="SET_USER_INFO",E="SET_INITIALIZED",L=(s(116).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3c41ce0c-17c5-4c99-8246-06dad4ea5f68"}}),{user:null,isAuth:!1}),F=function(e,t){return{type:D,payload:{user:e,isAuth:t}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(b.a)({},t.authData);case D:return Object(b.a)(Object(b.a)({},e),t.payload);case v:return Object(b.a)(Object(b.a)({},e),t.photo);case _:return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{defaultPhoto:t.defaultPhoto})});default:return e}},H={initialized:!1,url:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},G=s(18),J={users:[{id:1,email:"rozbutska34@gmail.com",defaultPhoto:"/social-network/static/media/catAvatar.12fd2b01.png",photo:"",password:"1",userName:"Oksi_2020",status:"I am okay",location:{country:"Ukraine",city:"khoroshiv"},networks:[],following:[],posts:[],messages:[]},{id:2,email:"labradorite@gmail.com",defaultPhoto:"/social-network/static/media/penguinAvatar.d193e8c3.png",photo:"",password:"22222222",userName:"Vania Gashchenko",status:"I am not okay",location:{country:"Ukraine",city:"Zhytomyr"},networks:[],following:[],posts:[],messages:[]},{id:3,email:"serzh@gmail.com",defaultPhoto:"/social-network/static/media/pigAvatar.2f31e6e5.png",photo:"",password:"serzh",userName:"Basil Serzh",status:"Life is beautiful",location:{country:"Ukraine",city:"Krasnohirka"},networks:[],following:[],posts:[],messages:[]}],usersCount:50,userPage:1,totalUsersCount:0,isLoading:!1,followingProgress:[]},W=function(e){return{type:R,newUsers:e}},B=function(e,t,s){return function(n){var a=s.map((function(s){return s.id==t&&(s.photo=e),s}));n(W(a))}},V=function(e,t,s){return function(n){n(function(e){return{type:P,userId:e}}(s.map((function(s){return s.id==t&&(console.log("found",t),s.following.find((function(t){return t==e}))?s.following=s.following.filter((function(t){return t!=e})):s.following.push(e)),s}))))}},X=function(e,t,s){return function(n){var a=s.map((function(s){return s.id==t&&(s.posts=s.posts.filter((function(t){return t.id!==e}))),s}));n(W(a))}},Y=function(e,t,s,n){return function(a){var r=s.map((function(s){return s.posts.map((function(s){return s.id===e&&s.comments.push({userId:t,text:n}),s})),s}));console.log(r),a(W(r))}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(b.a)({},t.usersReducerData);case P:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId&&(e.followed=!e.followed),e}))});case A:return localStorage.setItem("users",t.users),Object(b.a)(Object(b.a)({},e),{},{users:Object(G.a)(t.users)});case T:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.totalUsersCount});case S:return Object(b.a)(Object(b.a)({},e),{},{userPage:t.page});case C:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.isLoading});case U:return Object(b.a)(Object(b.a)({},e),{},{followingProgress:t.isFillowing?[].concat(Object(G.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!=t.userId}))});case I:return Object(b.a)(Object(b.a)({},e),{},{users:[].concat(Object(G.a)(e.users),[t.user])});case R:return Object(b.a)(Object(b.a)({},e),{},{users:t.newUsers});default:return e}},K={dialogs:[{id:1,userName:"Oksi",avatar:"https://static.wikia.nocookie.net/fc621525-9649-4ac8-a54c-089184c1741d"},{id:2,userName:"Serzh",avatar:"https://64.media.tumblr.com/61f51fc12ed51eac0d5fc34e4cbf8767/c20c1db5a17f4dac-ee/s500x750/aa8ef7430e18efc5cdaf551c307ab6a9c790128a.png"},{id:3,userName:"MisterX",avatar:"https://pm1.narvii.com/7640/de5f7f64281720abcb71aff74f9014e0529cdb7fr1-600-600v2_00.jpg"}],messages:[{id:1,content:"Hello",ownMessage:!1},{id:3,content:"How are you?",ownMessage:!1},{id:2,content:"Hiiiiiii!",ownMessage:!0},{id:4,content:"I am fine",ownMessage:!0},{id:5,content:"What are you doing?",ownMessage:!1}]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)({},t.dialogsData);case k:return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(G.a)(e.messages),[{id:6,content:t.message,ownMessage:!0}])});default:return e}},q={posts:[{id:1,title:"My first post",description:"Hello. This is my first post! Welcome to my page!",image:"https://www.abc.net.au/cm/rimage/12465498-16x9-xlarge.jpg?v=2",likeCount:12},{id:2,title:"My second post",description:"Hello. This is my second post! Welcome to my page!",image:"https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fdam%2Fimageserve%2F765877054%2F960x0.jpg%3Ffit%3Dscale",likeCount:3},{id:3,title:"How to cook the cakes",description:"Hello. Today i`ll tell you about cooking cakes!",image:"https://handletheheat.com/wp-content/uploads/2015/03/Best-Birthday-Cake-with-milk-chocolate-buttercream-SQUARE.jpg",likeCount:21}],profile:null,status:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)({},t.profileData);case w:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case N:case y:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},ee=s(12),te=s.p+"static/media/catLogo.be049f4e.png",se=(s(147),function(e){return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsxs)("div",{className:"cap",children:[Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)("h1",{children:"\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440.ua"})}),Object(f.jsx)("div",{className:"login",children:e.isAuth?Object(f.jsxs)("div",{className:"user-email",children:[e.user.email," ",Object(f.jsx)("a",{onClick:e.logout,className:"auth-button",children:"\u0412\u0438\u0439\u0442\u0438"})," "]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(ee.c,{to:"/login",className:"auth-button",children:" \u0412\u0432\u0456\u0439\u0442\u0438 "})," ",Object(f.jsx)(ee.c,{to:"/registration",className:"auth-button",children:" \u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c "})]})})]}),Object(f.jsxs)("nav",{className:"navbar",children:[Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"})}),Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/news",children:"\u041d\u043e\u0432\u0438\u043d\u0438"})}),Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/users",children:"\u0412\u0441\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456"})}),Object(f.jsx)("div",{className:"space",children:Object(f.jsx)("img",{src:te})}),Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/friends",children:"\u0414\u0440\u0443\u0437\u0456"})}),Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/messages",children:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"})}),Object(f.jsx)("div",{children:Object(f.jsx)(ee.c,{to:"/settings",children:"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f"})})]})]})}),ne=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(f.jsx)(se,Object(b.a)({},this.props))}}]),s}(a.Component),ae=Object(h.b)((function(e){return{isAuth:e.authReducer.isAuth,user:e.authReducer.user,url:e.appReducer.url}}),{logout:function(){return function(e){e(F(null,null)),localStorage.removeItem("authReducer")}}})(ne),re=s(11),ce=s(269),ie=s(28),oe=s.n(ie),ue=s(117),le=s.n(ue),de=function(e){return new Promise((function(t,s){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){var e=n.result.toString().replace(/^data:(.*,)?/,"");e.length%4>0&&(e+="=".repeat(4-e.length%4)),t(e)},n.onerror=function(e){return s(e)}}))},je=function(e){for(var t=atob(e.replace(/\s/g,"")),s=t.length,n=new ArrayBuffer(s),a=new Uint8Array(n),r=0;r<s;r++)a[r]=t.charCodeAt(r);var c=new Blob([a],{type:"image/pdf"});return URL.createObjectURL(c)},he=function(e){var t=Object(a.useState)(oe()()),s=Object(re.a)(t,2),n=s[0],r=s[1],c=n.diff(e.date,"seconds"),i=n.diff(e.date,"minutes"),o=n.diff(e.date,"hours"),u=n.diff(e.date,"days"),l=n.diff(e.date,"mounth"),d="".concat(c<60?c+" \u0441\u0435\u043a\u0443\u043d\u0434 \u0442\u043e\u043c\u0443":i<60?i+" \u0445\u0432\u0438\u043b\u0438\u043d \u0442\u043e\u043c\u0443":o<24?o+" \u0433\u043e\u0434\u0438\u043d \u0442\u043e\u043c\u0443":u<31?u+" \u0434\u043d\u0456\u0432 \u0442\u043e\u043c\u0443":l<12||l<12?l+" \u043c\u0456\u0441\u044f\u0446\u0456\u0432 \u0442\u043e\u043c\u0443":oe()(e.date).format("dddd, MMMM DD YYYY, H:mm:ss"));return setTimeout((function(){r(oe()(),1e3)})),Object(f.jsx)("span",{className:"post-created__date",children:d})},pe=(s(149),function(e){var t=e.post,s=e.activeUserId,n=e.isOwn,r=e.isAuth,c=e.users,i=e.isLink,o=e.deletePostThunk,u=e.addCommentThunk,l=Object(a.useState)(""),d=Object(re.a)(l,2),j=d[0],h=d[1];return Object(f.jsxs)("div",{className:"post__item",children:[Object(f.jsx)("div",{className:"post__date",children:Object(f.jsx)(he,{date:t.date})}),n&&Object(f.jsx)("input",{type:"button",value:"X",className:"delete-post",onClick:function(){o(t.id,t.userId,c)}}),i?Object(f.jsx)(ee.b,{to:"/profile/".concat(t.userId),children:Object(f.jsx)("h3",{className:"post__title",children:t.title})}):Object(f.jsx)("h3",{className:"post__title",children:t.title}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u041b\u043e\u043a\u0430\u0446\u0456\u044f: "}),t.place]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f: "}),t.appointment]}),t.images.length>0&&t.images.map((function(e){return Object(f.jsx)("img",{src:je(e),className:"post__picture"},e)})),Object(f.jsx)("div",{className:"post__description",children:t.description}),Object(f.jsxs)("div",{className:"post-comments__container",children:[r&&Object(f.jsxs)("form",{className:"comment-form",onSubmit:function(e){e.preventDefault(),h(""),u(t.id,s.id,c,j)},children:[Object(f.jsx)("input",{className:"add-comment__input",type:"textarea",placeholder:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",value:j,onChange:function(e){return h(e.target.value)}}),Object(f.jsx)("button",{className:"add-comment__button",children:"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"})]}),Object(f.jsx)("div",{className:"post-comments",children:t.comments&&t.comments.length>0?t.comments.map((function(e){var t=c.find((function(t){return t.id===e.userId})),s=c.find((function(t){return t.id===e.userId})).userName;return Object(f.jsxs)("div",{className:"post-comments__comment",children:[t&&Object(f.jsx)("div",{className:"comment-user__logo",children:Object(f.jsx)(ee.b,{to:"/profile/".concat(e.userId),children:Object(f.jsx)("img",{src:t.photo?je(t.photo):t.defaultPhoto})})}),Object(f.jsxs)("div",{className:"comment-info",children:[Object(f.jsx)("div",{className:"comment-user__name",children:s}),Object(f.jsx)("div",{children:e.text})]})]})})):"\u041d\u0435\u043c\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0432"})]})]})}),be=s(39),fe=s.n(be),Oe=Object(a.memo)((function(e){var t=Object(a.useState)("\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430"),s=Object(re.a)(t,2),n=s[0],r=s[1],c=Object(a.useState)(""),i=Object(re.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(""),d=Object(re.a)(l,2),j=d[0],h=d[1],p=Object(a.useState)(e.location),b=Object(re.a)(p,2),O=b[0],m=b[1],g=Object(a.useState)([]),x=Object(re.a)(g,2),v=x[0],_=x[1];return Object(f.jsxs)("div",{className:fe.a.posts__container,children:[e.isOwn&&Object(f.jsxs)("div",{className:fe.a.add_post,children:[Object(f.jsx)("h3",{className:fe.a.add_post__title,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u043e\u0441\u0442"}),Object(f.jsxs)("form",{onSubmit:function(t){var s={id:Object(ce.a)(),title:o,appointment:n,description:j,date:(new oe.a).locale("uk",le.a),userId:e.userId,place:O,images:v,comments:[]};r("help"),u(""),h(""),m(""),t.preventDefault(),_([]),e.addNewPostThunk(s,e.userId,e.users)},children:[Object(f.jsxs)("select",{value:n,onChange:function(e){r(e.target.value)},children:[Object(f.jsx)("option",{value:"\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430",children:"\u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0430"}),Object(f.jsx)("option",{value:"\u043f\u0440\u0438\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f",children:"\u041f\u0440\u0438\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),Object(f.jsx)("option",{value:"\u043e\u043f\u0456\u043a\u0430",children:"\u041e\u043f\u0456\u043a\u0430"}),Object(f.jsx)("option",{value:"\u043f\u043e\u0448\u0443\u043a",children:"\u041f\u043e\u0448\u0443\u043a"})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"\u041b\u043e\u043a\u0430\u0446\u0456\u044f",value:O,onChange:function(e){m(e.target.value)}})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",value:o,onChange:function(e){u(e.target.value)}})}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{placeholder:"\u041e\u043f\u0438\u0441",value:j,onChange:function(e){h(e.target.value)}})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:fe.a.file_input,children:[Object(f.jsx)("input",{type:"file",id:"file",className:fe.a.file,multiple:!0,onChange:function(e){for(var t=[],s=0;s<e.target.files.length;s++)de(e.target.files[s]).then((function(e){t.push(e)}));_(t)}}),Object(f.jsx)("label",{for:"file",children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0439\u043b(\u0438)"})]})}),Object(f.jsx)("button",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u043e\u0441\u0442"})]})]}),e.posts&&e.posts.length>0?e.posts.map((function(t){return Object(f.jsx)(pe,{activeUserId:e.activeUserId,post:t,isOwn:e.isOwn,isAuth:e.isAuth,users:e.users,deletePostThunk:e.deletePostThunk,addCommentThunk:e.addCommentThunk,isLink:!1},t.id)})):Object(f.jsx)("h3",{children:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u043d\u0435 \u043c\u0430\u0454 \u043f\u043e\u0441\u0442\u0456\u0432"})]})})),me=Object(h.b)((function(e){return{posts:e.profilePageReducer.profile&&e.profilePageReducer.profile.posts}}),{addNewPostThunk:function(e,t,s){return function(n){var a=s.map((function(s){return s.id==t&&(s.posts=[e].concat(Object(G.a)(s.posts))),s}));n(W(a))}},deletePostThunk:X,addCommentThunk:Y})(Oe),ge=(s(150),s.p+"static/media/catLoader.31f79637.gif"),xe=function(e){return Object(f.jsx)("img",{src:ge,className:"loading"})},ve=s(31),_e=s.n(ve),we=function(e){var t=e.profile,s=e.isAuth,n=e.myProfile,a=e.isOwn,r=e.users,c=e.changeFollowThunk,i=[];return s&&(i=r.find((function(e){return e.id===n.id})).following),t?Object(f.jsx)("div",{className:_e.a.profile_info,children:Object(f.jsxs)("div",{className:_e.a.main_info,children:[Object(f.jsx)("div",{className:_e.a.main_info__photo,children:t.photo?Object(f.jsx)("img",{src:je(t.photo)}):Object(f.jsx)("img",{src:t.defaultPhoto})}),Object(f.jsxs)("div",{className:_e.a.info,children:[Object(f.jsxs)("div",{className:_e.a.info_blocks,children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"\u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"})," ",t.userName]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"\u041e\u043f\u0438\u0441:"})," ",t.status]})]}),Object(f.jsxs)("div",{className:_e.a.info_blocks,children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"\u041a\u0440\u0430\u0457\u043d\u0430:"})," ",t.location.country]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"\u041c\u0456\u0441\u0442\u043e:"})," ",t.location.city]})]})]}),Object(f.jsx)("div",{className:_e.a.user_actions,children:a||s&&Object(f.jsx)("button",{onClick:function(){c(t.id,n.id,r)},children:i.indexOf(t.id)>=0?"\u0412\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044c":"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044c"})})]})}):Object(f.jsx)(xe,{})},Ne=(s(151),function(e){return Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)(we,{isOwn:e.isOwn,isAuth:e.isAuth,myProfile:e.myProfile,profile:e.profile,users:e.users,changeFollowThunk:e.changeFollowThunk}),Object(f.jsx)(me,{store:e.store,avatar:e.myProfile,isOwn:e.isOwn,isAuth:e.isAuth,userId:e.profile&&e.profile.id,activeUserId:e.myProfile,users:e.users,location:e.profile&&e.profile.location.city})]})}),ye=function(e){return{isAuth:e.authReducer.isAuth}},ke=function(e){var t=function(t){Object(l.a)(n,t);var s=Object(d.a)(n);function n(){return Object(o.a)(this,n),s.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(b.a)({},this.props)):Object(f.jsx)(j.a,{to:"/login"})}}]),n}(r.a.Component);return Object(h.b)(ye)(t)},Pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).refreshUser=function(){var t=e.props.match.params.userId;t||(e.props.isAuth?t=e.props.myProfile.id:e.props.history.push("/login")),e.props.setUserProfile(t,e.props.users)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.refreshUser()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshUser()}},{key:"render",value:function(){return Object(f.jsx)(Ne,Object(b.a)(Object(b.a)({},this.props),{},{isOwn:!this.props.match.params.userId,isAuth:this.props.isAuth,profile:this.props.profile,myProfile:this.props.myProfile,status:this.props.status,users:this.props.users,setUserStatus:this.props.setUserStatus,setUserPhotoThunk:this.props.setUserPhotoThunk,changeFollowThunk:this.props.changeFollowThunk}))}}]),s}(a.Component),Ae=Object(p.d)(Object(h.b)((function(e){return{profile:e.profilePageReducer.profile,status:e.profilePageReducer.status,isAuth:e.authReducer.isAuth,myProfile:e.authReducer.user,users:e.usersPageReducer.users}}),{setUserProfile:function(e,t){return function(s){var n=t.find((function(t){return t.id==e}));n&&s({type:w,profile:n})}},changeFollowThunk:V,setUserPhotoThunk:B,deletePostThunk:X}),j.h)(Pe),Te=s(268),Se=s(267),Ce=function(e){return e?void 0:"The fild is required!"},Ue=s(38),Ie=(s(152),function(e){e.input;var t=e.meta,s=e.children,n=(Object(Ue.a)(e,["input","meta","children"]),t.touched&&t.error);return Object(f.jsxs)("div",{className:"form-element"+(n?" error":""),children:[Object(f.jsx)("div",{children:s}),n&&Object(f.jsx)("span",{className:"error-message",children:t.error})]})}),Re=function(e){var t=e.input,s=(e.meta,Object(Ue.a)(e,["input","meta"]));return Object(f.jsxs)(Ie,Object(b.a)(Object(b.a)({},e),{},{children:[" ",Object(f.jsx)("textarea",Object(b.a)(Object(b.a)({},t),s))]}))},De=function(e){var t=e.input,s=(e.meta,Object(Ue.a)(e,["input","meta"]));return Object(f.jsxs)(Ie,Object(b.a)(Object(b.a)({},e),{},{children:[" ",Object(f.jsx)("input",Object(b.a)(Object(b.a)({},t),s))]}))},Ee=s(82),Le=s.n(Ee),Fe=function(e){return Object(f.jsxs)("div",{className:Le.a.dialogs_item,children:[Object(f.jsx)("img",{className:Le.a.dialog__avatar,src:e.avatar,alt:""}),Object(f.jsx)(ee.c,{to:"/messages/"+e.id,children:e.name})]})},Me=(s(153),function(e){return Object(f.jsx)("div",{className:"message_item".concat(e.ownMessage?" active":""),children:e.content})}),He=s(61),ze=s.n(He),Ge=(n=10,function(e){if(e.length>n)return"The max length are ".concat(n," symbols!")}),Je=Object(Se.a)({form:"newMessageForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(Te.a,{component:Re,name:"newMessageValue",placeholder:"Write new message",validate:[Ce,Ge]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send message"})})]})})),We=function(e){return Object(f.jsxs)("div",{className:ze.a.messages,children:[Object(f.jsx)("div",{className:ze.a.dialogs,children:e.dialogs.map((function(e){return Object(f.jsx)(Fe,{id:e.id,name:e.userName,avatar:e.avatar},e.id)}))}),Object(f.jsxs)("div",{className:ze.a.dialog,children:[e.messages.map((function(e){return Object(f.jsx)(Me,{content:e.content,ownMessage:e.ownMessage},e.id)})),Object(f.jsx)(Je,{onSubmit:function(t){e.sendNewMessage(t.newMessageValue)}})]})]})},Be=Object(p.d)(Object(h.b)((function(e){return{dialogs:e.dialogsPageReducer.dialogs,messages:e.dialogsPageReducer.messages}}),(function(e){return{sendNewMessage:function(t){e({type:k,message:t})}}})),ke)(We),Ve=s(58),Xe=(s(252),function(e){var t=Object(a.useState)(""),s=Object(re.a)(t,2),n=s[0],r=s[1],c=[];if(e.users.map((function(t){e.isAuth?e.user.id!==t.id&&(c=[].concat(Object(G.a)(c),Object(G.a)(t.posts))):c=[].concat(Object(G.a)(c),Object(G.a)(t.posts))})),c.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),n){var i=n.split(" ");c=c.filter((function(e){return i.some((function(t){return e.title.toLowerCase().includes(t.toLowerCase())||e.place.toLowerCase().includes(t.toLowerCase())||e.appointment.toLowerCase().includes(t.toLowerCase())}))}))}return Object(f.jsxs)("div",{className:"news",children:[Object(f.jsx)("input",{placeholder:"Write data to seek",className:"seeking-input",value:n,onChange:function(e){return r(e.target.value)}}),c.length?c.map((function(t){return Object(f.jsx)(pe,{activeUserId:e.myProfile,isAuth:e.isAuth,post:t,isOwn:!1,users:e.users,isLink:!0,addCommentThunk:e.addCommentThunk},t.id)})):Object(f.jsx)("h1",{children:"There are no news to show"})]})}),Ye=Object(h.b)((function(e){return Object(Ve.a)({isAuth:e.authReducer.isAuth,user:e.authReducer.user,users:e.usersPageReducer.users,myProfile:e.authReducer.user},"isAuth",e.authReducer.isAuth)}),{addCommentThunk:Y})((function(e){return Object(f.jsx)(Xe,Object(b.a)({},e))})),Ze=(s(253),function(){var e,t,n=(e=s(254)).keys().map(e);return n[(t=n.length,Math.floor(Math.random()*t))].default}),Ke=Object(p.d)(Object(h.b)((function(e){return{profileInfo:e.authReducer.user,users:e.usersPageReducer.users}}),{setUserPhotoThunk:B,changeAuthPhotoThunk:function(e,t){return function(s){var n=t;n.photo=e,s(function(e){return{type:v,photo:e}}(n))}},changeUserDataThunk:function(e,t,s,n,a,r,c,i){return function(o){var u=t.map((function(t){return t.id==e&&(t.email=s,t.userName=n,t.password=a,t.status=r,t.location.country=c,t.location.city=i),t}));o(W(u))}},changeDefaultPhotoThunk:function(e,t,s){return function(n){var a=s.map((function(s){return s.id==t&&(s.defaultPhoto=e),s}));n(W(a)),n(function(e){return{type:_,defaultPhoto:e}}(e))}}}),ke)((function(e){var t=e.profileInfo,s=e.users,n=e.setUserPhotoThunk,r=e.changeAuthPhotoThunk,c=e.changeUserDataThunk,i=e.changeDefaultPhotoThunk,o=Object(a.useState)(t.email),u=Object(re.a)(o,2),l=u[0],d=u[1],j=Object(a.useState)(t.userName),h=Object(re.a)(j,2),p=h[0],b=h[1],O=Object(a.useState)(t.password),m=Object(re.a)(O,2),g=m[0],x=m[1],v=Object(a.useState)(t.password),_=Object(re.a)(v,2),w=_[0],N=_[1],y=Object(a.useState)(t.status),k=Object(re.a)(y,2),P=k[0],A=k[1],T=Object(a.useState)(t.location.country),S=Object(re.a)(T,2),C=S[0],U=S[1],I=Object(a.useState)(t.location.city),R=Object(re.a)(I,2),D=R[0],E=R[1],L=Object(a.useState)(!0),F=Object(re.a)(L,2),M=F[0],H=F[1],z=function(e){e.target.files.length&&de(e.target.files[0]).then((function(e){n(e,t.id,s),r(e,t)}))};return Object(f.jsxs)("div",{className:"settings",children:[Object(f.jsx)("h1",{className:"settings-logo",children:"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),Object(f.jsx)("div",{children:t.photo?Object(f.jsxs)("div",{className:"choose-avatar",children:[Object(f.jsx)("img",{className:"settings-photo",src:je(t.photo)}),Object(f.jsxs)("div",{className:"settings-photo__buttons",children:[Object(f.jsxs)("div",{class:"file-input",children:[Object(f.jsx)("input",{type:"file",id:"file",className:"file",onChange:z}),Object(f.jsx)("label",{for:"file",children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0439\u043b"})]}),Object(f.jsx)("button",{type:"button",onClick:function(){n("",t.id,s),r("",t)},children:" \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f "})]})]}):Object(f.jsxs)("div",{className:"choose-avatar",children:[Object(f.jsx)("img",{className:"settings-photo",src:t.defaultPhoto}),Object(f.jsxs)("div",{class:"file-input",children:[Object(f.jsx)("input",{type:"file",id:"file",className:"file",onChange:z}),Object(f.jsx)("label",{for:"file",children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0439\u043b"})]}),Object(f.jsx)("button",{type:"button",onClick:function(){i(Ze(),t.id,s)},children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u043e\u0442\u043e \u0437\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"})]})}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g===w?c(t.id,s,l,p,g,P,C,D):H(!1)},children:[Object(f.jsx)("div",{className:"email_settings",children:Object(f.jsx)("input",{type:"email",placeholder:"\u0415\u043c\u0435\u0439\u043b",value:l,onChange:function(e){d(e.target.value)}})}),Object(f.jsx)("div",{className:"username_settings",children:Object(f.jsx)("input",{placeholder:"\u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0442\u0441\u0443\u0432\u0430\u0447\u0430",value:p,onChange:function(e){b(e.target.value)}})}),Object(f.jsx)("div",{className:"password_settings",children:Object(f.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:g,onChange:function(e){x(e.target.value)}})}),Object(f.jsx)("div",{className:"confirm-password_settings ".concat(M||"incorrect"),children:Object(f.jsx)("input",{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",value:w,onChange:function(e){N(e.target.value)}})}),Object(f.jsx)("div",{className:"status_settings",children:Object(f.jsx)("input",{placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441",value:P,onChange:function(e){A(e.target.value)}})}),Object(f.jsx)("div",{className:"country_settings",children:Object(f.jsx)("input",{placeholder:"\u041a\u0440\u0430\u0457\u043d\u0430",value:C,onChange:function(e){U(e.target.value)}})}),Object(f.jsx)("div",{className:"city_settings",children:Object(f.jsx)("input",{placeholder:"\u041c\u0456\u0441\u0442\u043e",value:D,onChange:function(e){E(e.target.value)}})}),Object(f.jsx)("button",{children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})),Qe=(s(261),function(e){for(var t=e.totalItemsCount,s=e.usersCount,n=e.userPage,r=e.onClickSetActivePage,c=e.portionSize,i=void 0===c?30:c,o=Math.ceil(t/s),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/i),j=Object(a.useState)(1),h=Object(re.a)(j,2),p=h[0],b=h[1],O=(p-1)*i+1,m=p*i;return Object(f.jsxs)("div",{className:"pages",children:[p>1&&Object(f.jsx)("button",{onClick:function(){b(p-1)},children:"Prev"}),u.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(f.jsx)("span",{className:n===e?"page-number selected-page":"page-number",onClick:function(){r(e)},children:e},e)})),d>p&&Object(f.jsx)("button",{onClick:function(){b(p+1)},children:"Next"})]})}),qe=function(e){var t=e.user,s=e.changeFollowThunk,n=e.addDialogThunk,a=e.users,r=e.activeUserId,c=e.followingUsers,i=Object(j.g)();return Object(f.jsxs)("div",{className:"user",children:[Object(f.jsxs)("div",{className:"main-info",children:[Object(f.jsx)(ee.c,{to:"/profile/".concat(t.id),children:t.photo?Object(f.jsx)("img",{src:je(t.photo)}):Object(f.jsx)("img",{src:t.defaultPhoto})}),r&&Object(f.jsxs)("div",{className:"user_actions",children:[Object(f.jsx)("button",{onClick:function(){s(t.id,r.id,a)},children:c.indexOf(t.id)>=0?"Unfollow":"Follow"}),Object(f.jsx)("button",{onClick:function(){n(t.id,r.id,a),i.push("/messages/".concat(t.id))},children:"Write message"})]})]}),Object(f.jsxs)("div",{className:"description",children:[Object(f.jsx)("h3",{className:"user-name",children:t.userName}),Object(f.jsx)("p",{className:"user-status",children:t.status}),Object(f.jsxs)("p",{className:"user-country",children:[Object(f.jsx)("b",{children:"Country:"})," ",t.location.country]}),Object(f.jsxs)("p",{className:"user-country",children:[Object(f.jsx)("b",{children:"City:"})," ",t.location.city]})]})]},t.id)},$e=(s(114),function(e){e.isLoading;var t=e.users,s=e.isAuth,n=e.activeUser,r=e.changeFollowThunk,c=e.onlyFriends,i=e.addDialogThunk,o=Object(Ue.a)(e,["isLoading","users","isAuth","activeUser","changeFollowThunk","onlyFriends","addDialogThunk"]),u=Object(a.useState)(""),l=Object(re.a)(u,2),d=l[0],j=l[1],h=t,p=[];return s&&(p=t.find((function(e){return e.id===n.id})).following,h=c?t.filter((function(e){return p.indexOf(e.id)>=0})):t.filter((function(e){return e.id!==n.id}))),d.length>0&&(h=h.filter((function(e){return e.userName.toLowerCase().includes(d.toLowerCase())}))),Object(f.jsxs)("div",{className:"users-page",children:[Object(f.jsx)("h2",{children:c?"My friends":"All users"}),Object(f.jsx)(Qe,{totalItemsCount:o.totalUsersCount,usersCount:o.usersCount,userPage:o.userPage,onClickSetActivePage:o.onClickSetActivePage}),h.length>0?Object(f.jsx)("input",{placeholder:"Write name or surname",value:d,onChange:function(e){return j(e.target.value)}}):Object(f.jsx)("h3",{children:"There are no users"}),h.map((function(e){return Object(f.jsx)(qe,{activeUserId:n,user:e,changeFollowThunk:r,addDialogThunk:i,users:t,followingUsers:p},e.id)}))]})}),et=function(e){return e.usersPageReducer.users},tt=function(e){return e.usersPageReducer.usersCount},st=function(e){return e.usersPageReducer.totalUsersCount},nt=function(e){return e.usersPageReducer.userPage},at=function(e){return e.usersPageReducer.isLoading},rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onClickSetActivePage=function(t){e.props.setActivePageThunk(t,e.props.usersCount)},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(f.jsx)($e,{users:this.props.users,onlyFriends:this.props.onlyFriends,userPage:this.props.userPage,changeFollowThunk:this.props.changeFollowThunk,addDialogThunk:this.props.addDialogThunk,totalUsersCount:this.props.totalUsersCount,usersCount:this.props.usersCount,isLoading:this.props.isLoading,isAuth:this.props.isAuth,activeUser:this.props.activeUser,toggleFollowing:this.props.toggleFollowing})}}]),s}(a.Component),ct=Object(p.d)(Object(h.b)((function(e){return{users:et(e),usersCount:tt(e),totalUsersCount:st(e),userPage:nt(e),isLoading:at(e),isAuth:e.authReducer.isAuth,activeUser:e.authReducer.user}}),{changeFollowThunk:V,setUsers:function(e){return{type:A,users:e}},setUsersTotalCount:function(e){return{type:T,totalUsersCount:e}},setActivePage:function(e){return{type:S,page:e}},toggleLoader:function(e){return{type:C,isLoading:e}},toggleFollowing:function(e,t){return{type:U,isFillowing:e,userId:t}},addDialogThunk:function(e,t,s){return function(n){var a=s.map((function(s){return s.id==e&&s.messages.push({userId:t,messages:[]}),s.id==t&&s.messages.push({userId:e,messages:[]}),s}));console.log("newUsers",a),n(W(a))}}}))(rt),it=(s(262),Object(Se.a)({form:"login"})((function(e){var t=e.handleSubmit,s=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"Email",component:De,name:"email",validate:[Ce]})}),Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"Password",component:De,type:"password",name:"password",validate:[Ce]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Te.a,{component:"input",type:"checkbox",name:"rememberMe"}),Object(f.jsx)("div",{className:"remember-me",children:"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"})]}),s&&Object(f.jsx)("div",{className:"error-border",children:s}),Object(f.jsx)("button",{children:"\u0412\u0445\u0456\u0434"}),Object(f.jsx)("p",{className:"or",children:"\u0447\u0438"}),Object(f.jsx)("div",{className:"redirect-to-registration",children:Object(f.jsx)(ee.c,{to:"/registration",children:" \u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c "})})]})}))),ot=Object(h.b)((function(e){return{isAuth:e.authReducer.isAuth,users:e.usersPageReducer.users}}),{login:function(e,t,s,n){return function(a){var r=n.find((function(s){return s.email===e&&s.password===t}));r&&a(F(r,!0)),s&&localStorage.setItem("authReducer",JSON.stringify({user:r,isAuth:!0}))}}})((function(e){var t=e.login,s=e.users;return e.isAuth?Object(f.jsx)(j.a,{to:"/profile"}):Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("h1",{className:"login-logo",children:"\u0412\u0445\u0456\u0434"}),Object(f.jsx)(it,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,s)}})]})})),ut=Object(Se.a)({form:"registration"})((function(e){var t=e.handleSubmit,s=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"\u0415\u043c\u0435\u0439\u043b",component:De,type:"email",name:"email",validate:[Ce]})}),Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"\u0406\u043c`\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",component:De,name:"userName",validate:[Ce]})}),Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",component:De,type:"password",name:"password",validate:[Ce]})}),Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",component:De,type:"password",name:"confirmPassword",validate:[Ce]})}),Object(f.jsx)("div",{children:Object(f.jsx)(Te.a,{placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441",component:De,name:"status",validate:[Ce]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Te.a,{placeholder:"\u041a\u0440\u0430\u0457\u043d\u0430",component:De,name:"country",validate:[Ce]}),Object(f.jsx)(Te.a,{placeholder:"\u041c\u0456\u0441\u0442\u043e",component:De,name:"city",validate:[Ce]})]}),s&&Object(f.jsx)("div",{className:"error-border",children:s}),Object(f.jsx)("button",{children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"}),Object(f.jsx)("p",{className:"or",children:"\u0447\u0438"}),Object(f.jsx)("div",{className:"redirect-to-registration",children:Object(f.jsx)(ee.c,{to:"/login",children:" \u0423\u0432\u0456\u0439\u0442\u0438 "})})]})})),lt=Object(h.b)((function(e){return{isAuth:e.authReducer.isAuth}}),{register:function(e){return function(t){t(F(e,!0))}},addUser:function(e){return{type:I,user:e}}})((function(e){var t=e.isAuth,s=e.register,n=e.addUser,a="";return t?Object(f.jsx)(j.a,{to:"/profile"}):Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("h1",{className:"login-logo",children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),Object(f.jsx)(ut,{onSubmit:function(e){var t={id:Object(ce.a)(),email:e.email,defaultPhoto:Ze(),photo:"",password:e.password,userName:e.userName,status:e.status,location:{country:e.country,city:e.city},networks:[],following:[],posts:[],messages:[]};e.email&&e.password&&e.userName&&e.status&&e.country&&e.city&&e.password===e.confirmPassword?(n(t),s(t)):a=e.password!==e.confirmPassword?"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c":"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f"}}),a&&Object(f.jsx)("div",{className:"error-message",children:a})]})})),dt=(s(263),s.p+"static/media/404.665ba2dc.gif"),jt=function(){return Object(f.jsx)("div",{className:"not-found__page",children:Object(f.jsx)("img",{src:dt,className:"not-found__gif"})})},ht=(s(264),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk(),this.props.setUsersDataThunk(JSON.parse(localStorage.getItem("usersReducer"))),this.props.setDialogsDataThunk(JSON.parse(localStorage.getItem("dialogsPageReducer"))),this.props.setProfileDataThunk(JSON.parse(localStorage.getItem("profilePageReducer")));var e=JSON.parse(localStorage.getItem("authReducer"));e&&this.props.setAuthDataThunk(e)}},{key:"componentDidUpdate",value:function(e){localStorage.setItem("usersReducer",JSON.stringify(this.props.state.usersPageReducer)),localStorage.setItem("dialogsPageReducer",JSON.stringify(this.props.state.dialogsPageReducer)),localStorage.setItem("profilePageReducer",JSON.stringify(this.props.state.profilePageReducer))}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(ae,{store:this.props.store}),Object(f.jsx)("div",{className:"app-content",children:Object(f.jsx)("div",{className:"app-bloor",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.a,{exact:!0,from:"/",to:"/news"}),Object(f.jsx)(j.a,{exact:!0,from:"/social-network",to:"/news"}),Object(f.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(Ae,{})}}),Object(f.jsx)(j.b,{path:"/messages",render:function(){return Object(f.jsx)(Be,{})}}),Object(f.jsx)(j.b,{path:"/news",component:Ye}),Object(f.jsx)(j.b,{path:"/settings",component:Ke}),Object(f.jsx)(j.b,{path:"/login",render:function(){return Object(f.jsx)(ot,{})}}),Object(f.jsx)(j.b,{path:"/registration",render:function(){return Object(f.jsx)(lt,{})}}),Object(f.jsx)(j.b,{path:"/users",render:function(){return Object(f.jsx)(ct,{})}}),Object(f.jsx)(j.b,{path:"/friends",render:function(){return Object(f.jsx)(ct,{onlyFriends:!0})}}),Object(f.jsx)(j.b,{component:jt})]})})})]}):Object(f.jsx)(xe,{})}}]),s}(a.Component)),pt=Object(p.d)(j.h,Object(h.b)((function(e){return{initialized:e.appReducer.initialized,state:e}}),{initializeAppThunk:function(){return function(e){e({type:E})}},setUsersDataThunk:function(e){return function(t){t({type:O,usersReducerData:e})}},setAuthDataThunk:function(e){return function(t){t(function(e){return{type:m,authData:e}}(e))}},setDialogsDataThunk:function(e){return function(t){t({type:x,dialogsData:e})}},setProfileDataThunk:function(e){return function(t){t(function(e){return{type:g,profileData:e}}(e))}}}))(ht),bt=s(119),ft=s(270),Ot=Object(p.c)({dialogsPageReducer:Q,profilePageReducer:$,usersPageReducer:Z,authReducer:M,form:ft.a,appReducer:z}),mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,gt=Object(p.e)(Ot,mt(Object(p.a)(bt.a)));s(265);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(h.a,{store:gt,children:Object(f.jsx)(ee.a,{children:Object(f.jsx)(pt,{})})})}),document.getElementById("root"))},31:function(e,t,s){e.exports={profile_info:"ProfileInfo_profile_info__3ECT4",main_info:"ProfileInfo_main_info__2hAnD",main_info__photo:"ProfileInfo_main_info__photo__hJ9FP",info:"ProfileInfo_info__2nY6a",info_blocks:"ProfileInfo_info_blocks__2XhNV",user_actions:"ProfileInfo_user_actions__1xoC1"}},39:function(e,t,s){e.exports={posts__container:"Posts_posts__container__2333E",add_post:"Posts_add_post__2QoI7",add_post__title:"Posts_add_post__title__2PhZt",file:"Posts_file__x4sBz",file_input:"Posts_file_input__3pEDl"}},61:function(e,t,s){e.exports={messages:"Messages_messages__3pXxs"}},82:function(e,t,s){e.exports={dialogs_item:"DialogItem_dialogs_item__26HBb",dialog__avatar:"DialogItem_dialog__avatar__FdDg_"}}},[[266,1,2]]]);
//# sourceMappingURL=main.e9500e0d.chunk.js.map